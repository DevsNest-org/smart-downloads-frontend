{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sundayochuko/DevsNest/smart-downloads-frontend/src/components/DownloadHandler.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\ninterface DownloadHandlerProps {\n  downloadData: { url: string; platform: string } | null;\n  onDownloadComplete: () => void;\n}\n\nexport default function DownloadHandler({ downloadData, onDownloadComplete }: DownloadHandlerProps) {\n  useEffect(() => {\n    if (downloadData) {\n      const a = document.createElement('a');\n      a.href = downloadData.url;\n      a.download = `${downloadData.platform}-video.mp4`;\n      a.target = '_blank'; // Open in new tab for Instagram\n      a.rel = 'noopener noreferrer';\n      \n      // For Instagram, we need to handle the download differently\n      if (downloadData.platform === 'instagram') {\n        // Create a fetch request to get the video\n        fetch(downloadData.url)\n          .then(response => response.blob())\n          .then(blob => {\n            const url = window.URL.createObjectURL(blob);\n            a.href = url;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n            onDownloadComplete();\n          })\n          .catch(error => {\n            console.error('Error downloading video:', error);\n            onDownloadComplete();\n          });\n      } else {\n        // For other platforms, use the direct download\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        onDownloadComplete();\n      }\n    }\n  }, [downloadData, onDownloadComplete]);\n\n  return null;\n} "],"names":[],"mappings":";;;AAEA;;AAFA;;AASe,SAAS,gBAAgB,EAAE,YAAY,EAAE,kBAAkB,EAAwB;;IAChG,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,cAAc;gBAChB,MAAM,IAAI,SAAS,aAAa,CAAC;gBACjC,EAAE,IAAI,GAAG,aAAa,GAAG;gBACzB,EAAE,QAAQ,GAAG,GAAG,aAAa,QAAQ,CAAC,UAAU,CAAC;gBACjD,EAAE,MAAM,GAAG,UAAU,gCAAgC;gBACrD,EAAE,GAAG,GAAG;gBAER,4DAA4D;gBAC5D,IAAI,aAAa,QAAQ,KAAK,aAAa;oBACzC,0CAA0C;oBAC1C,MAAM,aAAa,GAAG,EACnB,IAAI;qDAAC,CAAA,WAAY,SAAS,IAAI;oDAC9B,IAAI;qDAAC,CAAA;4BACJ,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;4BACvC,EAAE,IAAI,GAAG;4BACT,SAAS,IAAI,CAAC,WAAW,CAAC;4BAC1B,EAAE,KAAK;4BACP,SAAS,IAAI,CAAC,WAAW,CAAC;4BAC1B,OAAO,GAAG,CAAC,eAAe,CAAC;4BAC3B;wBACF;oDACC,KAAK;qDAAC,CAAA;4BACL,QAAQ,KAAK,CAAC,4BAA4B;4BAC1C;wBACF;;gBACJ,OAAO;oBACL,+CAA+C;oBAC/C,SAAS,IAAI,CAAC,WAAW,CAAC;oBAC1B,EAAE,KAAK;oBACP,SAAS,IAAI,CAAC,WAAW,CAAC;oBAC1B;gBACF;YACF;QACF;oCAAG;QAAC;QAAc;KAAmB;IAErC,OAAO;AACT;GAtCwB;KAAA","debugId":null}}]
}